const { SlashCommandBuilder, EmbedBuilder } = require('discord.js');
const redditFetch = require('reddit-fetch');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('meme')
        .setDescription('Sends a meme from reddit'),

    async execute(interaction, client, message) {

        

        const userId = interaction.userId;
        const post = redditFetch({
            subreddit: 'memes',
            sort: 'top',
            allowNSFW: false,
            allowModPost: true,
            allowCrossPost: true,
            allowVideo: true,
        }).then(async post => {
            const embed = new EmbedBuilder()
            .setTitle(post.title)
            .setDescription(post.url)
            .setColor(0x010036)
            .setImage(post.url)


        await interaction.reply({
            embeds: [embed]
        })

        })


       
    }
}
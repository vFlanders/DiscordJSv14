const { SlashCommandBuilder, EmbedBuilder, PermissionFlagsBits, MembershipScreeningFieldType } = require('discord.js');
const redditFetch = require('reddit-fetch');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('ass')
        .setDescription('Sends a meme from reddit'),

    async execute(interaction, client, message, args) {

        if (!interaction.channel.nsfw) {
            return interaction.reply({ content: `**[â›”]: This Command Only Works On NSFW Channel!**`, ephemeral: true });
        };

        const userId = interaction.userId;
        const post = redditFetch({
            subreddit: 'ass',
            sort: 'top',
            allowNSFW: true,
            allowModPost: true,
            allowCrossPost: true,
            allowVideo: true,
        }).then(async post => {
            const embed = new EmbedBuilder()
            .setTitle(post.url)
            .setColor(0x2f3136)
            .setImage(post.url)


        await interaction.reply({
            embeds: [embed]
        });

        });
        
    },
};